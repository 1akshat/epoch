<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="../css/tests.css">
        <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script src="../../../js/epoch.js"></script>
        <script src="../js/data.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../css/epoch.css">
        <style>
        body { background: #333; color: #d0d0d0; }
        a:link, a:visited { color: white; color: white; }

        .epoch {
            height: 220px;
        }

        #sparkline { height: 50px; }

        </style>
    </head>
    <body class="epoch-theme-dark">
        <h1>Basic Chart Model / Data Test</h1>
        <p class="breadcrumbs"><a href="../index.html">Epoch Chart Tests</a> &raquo; Basic Chart Model / Data Test</p>

        <p>
            <button class="set" data-index="0">Data A</button>
            <button class="set" data-index="1">Data B</button>
            <button class="set" data-index="2">Data C</button>
        </p>

        <div id="sparkline" class="epoch"></div>
        <div id="area" class="epoch"></div>
        <div id="bar" class="epoch"></div>

        <script>
        $(function() {
            window.model = new Epoch.Model({
                dataFormat: 'array'
            });

            model.on('data:updated', function(e) {
                console.log("UPDATED");
            });

            var sparkline = $('#sparkline').epoch({
                type: 'line',
                axes: ['left', 'right'],
                model: model
            });

            var area = $('#area').epoch({
                type: 'area',
                axes: ['left', 'right'],
                model: model
            });

            var bar = $('#bar').epoch({
                type: 'bar',
                axes: ['left', 'right', 'bottom'],
                model: model
            });

            var data = [];
            for (var j = 0; j < 3; j++) {
                layer = []
                for (var i = 0; i < 20; i++) {
                    layer.push(50 + Math.random()*20);
                }
                data.push(layer);
            }

            model.setData(data);
        })
        </script>
    </body>
</html>